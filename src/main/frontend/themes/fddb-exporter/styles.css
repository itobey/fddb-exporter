/* FDDB Exporter - Modern Dark Theme */

@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

html {
    /* Accent colors */
    --accent: #4e619b;
    --accent-hover: #5d72b3;
    --accent-active: #3f4e7d;
    --accent-contrast: #ffffff;
    --accent-rgb: 78, 97, 155; /* added: rgb parts for focus/overlay shadows */

    /* Highlight / brand color (used for selected inputs & checkboxes) */
    --highlight: var(--button-color); /* #ae9357 */
    --highlight-rgb: 174, 147, 87;

    --table-header: #4d577e;

    --green-accent: #3f908c;
    --red-accent: #9a4b55;

    /* Button colors */
    --button-color: #ae9357;
    --button-color-hover: #bfa979;
    --button-color-active: #a98e52;
    --button-color-contrast: #ffffff;

    /* Nutrient colors */
    --nutrient-calories: #ef5350;
    --nutrient-fat: #ffa726;
    --nutrient-carbs: #66bb6a;
    --nutrient-sugar: #ec407a;
    --nutrient-protein: #ab47bc;
    --nutrient-fibre: #26c6da;

    /* Lumo overrides */
    --lumo-primary-color: var(--accent);
    --lumo-primary-color-50pct: rgba(78, 97, 155, 0.5);
    --lumo-primary-color-10pct: rgba(78, 97, 155, 0.1);
    --lumo-primary-text-color: var(--accent-contrast);

    --lumo-base-color: #4e619b;
    --lumo-tint-5pct: rgba(255, 255, 255, 0.03);
    --lumo-tint-10pct: rgba(255, 255, 255, 0.05);
    --lumo-tint-20pct: rgba(255, 255, 255, 0.08);
    --lumo-tint-30pct: rgba(255, 255, 255, 0.12);
    --lumo-tint-40pct: rgba(255, 255, 255, 0.16);
    --lumo-tint-50pct: rgba(255, 255, 255, 0.2);
    --lumo-tint-60pct: rgba(255, 255, 255, 0.25);
    --lumo-tint-70pct: rgba(255, 255, 255, 0.3);
    --lumo-tint-80pct: rgba(255, 255, 255, 0.4);
    --lumo-tint-90pct: rgba(255, 255, 255, 0.5);
    --lumo-tint: #ffffff;

    --lumo-contrast-5pct: rgba(255, 255, 255, 0.04);
    --lumo-contrast-10pct: rgba(255, 255, 255, 0.06);
    --lumo-contrast-20pct: rgba(255, 255, 255, 0.1);
    --lumo-contrast-30pct: rgba(255, 255, 255, 0.15);
    --lumo-contrast-40pct: rgba(255, 255, 255, 0.2);
    --lumo-contrast-50pct: rgba(255, 255, 255, 0.25);
    --lumo-contrast-60pct: rgba(255, 255, 255, 0.3);
    --lumo-contrast-70pct: rgba(255, 255, 255, 0.4);
    --lumo-contrast-80pct: rgba(255, 255, 255, 0.5);
    --lumo-contrast-90pct: rgba(255, 255, 255, 0.7);
    --lumo-contrast: #ffffff;

    --lumo-body-text-color: rgba(255, 255, 255, 0.87);
    --lumo-secondary-text-color: rgba(255, 255, 255, 0.6);
    --lumo-tertiary-text-color: rgba(255, 255, 255, 0.4);
    --lumo-disabled-text-color: rgba(255, 255, 255, 0.35);
    --lumo-header-text-color: rgba(255, 255, 255, 0.95);

    --lumo-box-shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);
    --lumo-box-shadow-s: 0 1px 3px rgba(0, 0, 0, 0.35), 0 1px 2px rgba(0, 0, 0, 0.2);
    --lumo-box-shadow-m: 0 2px 6px rgba(0, 0, 0, 0.4), 0 1px 3px rgba(0, 0, 0, 0.25);
    --lumo-box-shadow-l: 0 4px 12px rgba(0, 0, 0, 0.45), 0 2px 6px rgba(0, 0, 0, 0.3);
    --lumo-box-shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.5), 0 4px 12px rgba(0, 0, 0, 0.35);

    --lumo-border-radius-s: 4px;
    --lumo-border-radius-m: 6px;
    --lumo-border-radius-l: 8px;

    --lumo-space-xs: 4px;
    --lumo-space-s: 8px;
    --lumo-space-m: 16px;
    --lumo-space-l: 24px;
    --lumo-space-xl: 32px;

    /* Card surface */
    --card-surface: rgba(255, 255, 255, 0.06);
    --card-border: rgba(255, 255, 255, 0.1);
    --card-hover-surface: rgba(255, 255, 255, 0.08);

    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 180ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 250ms cubic-bezier(0.4, 0, 0.2, 1);

    /* Mobile padding */
    --mobile-horizontal-padding: 0.5rem;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
    font-weight: 400;
    line-height: 1.5;
    color: var(--lumo-body-text-color);
    background-image: linear-gradient(to bottom, #3f4e7d, #414c73, #424a69, #43485f, #434655);
}

/* Remove tap highlight and focus outlines on mobile */
* {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;
    -webkit-touch-callout: none;
}

/* Remove focus outlines globally but maintain accessibility for keyboard navigation */
*:focus {
    outline: none !important;
}

/* Chrome Android specific - force remove focus on touch devices */
@media (hover: none) and (pointer: coarse) {
    *:focus,
    *:active,
    *[focus-ring],
    *[focused] {
        outline: none !important;
        box-shadow: none !important;
        -webkit-tap-highlight-color: transparent !important;
    }

    /* Disable focus-visible on touch devices to prevent blue outline */
    *:focus-visible {
        outline: none !important;
    }
}

/* Provide subtle focus styles for keyboard navigation on desktop only */
@media (hover: hover) and (pointer: fine) {
    *:focus-visible {
        outline: 2px solid rgba(78, 97, 155, 0.5);
        outline-offset: 2px;
    }
}

/* Remove tap highlight from all interactive elements */
button,
a,
input,
textarea,
select,
[role="button"],
[tabindex]:not([tabindex="-1"]),
vaadin-button,
vaadin-text-field,
vaadin-text-area,
vaadin-date-picker,
vaadin-integer-field,
vaadin-checkbox,
vaadin-select,
vaadin-combo-box,
vaadin-drawer-toggle,
vaadin-side-nav-item,
vaadin-tabs,
vaadin-tab,
.clickable {
    -webkit-tap-highlight-color: transparent;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Allow text selection in text inputs */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
input[type="tel"],
input[type="url"],
input[type="number"],
textarea,
vaadin-text-field input,
vaadin-text-area textarea,
vaadin-integer-field input {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

/* Remove outlines from Vaadin components */
vaadin-button::part(button),
vaadin-text-field::part(input-field),
vaadin-text-area::part(input-field),
vaadin-date-picker::part(input-field),
vaadin-integer-field::part(input-field),
vaadin-checkbox::part(checkbox),
vaadin-drawer-toggle::part(button),
vaadin-side-nav-item::part(link) {
    outline: none;
}

/* Remove focus rings but keep them for keyboard navigation */
vaadin-button:focus::part(button),
vaadin-text-field:focus::part(input-field),
vaadin-text-area:focus::part(input-field),
vaadin-date-picker:focus::part(input-field),
vaadin-integer-field:focus::part(input-field) {
    outline: none;
    box-shadow: none;
}

/* Provide focus-visible styles only for keyboard users */
vaadin-button:focus-visible::part(button) {
    outline: 2px solid rgba(78, 97, 155, 0.5);
    outline-offset: 2px;
}

h1, h2, h3, h4, h5, h6 {
    color: var(--lumo-header-text-color);
    font-weight: 600;
    line-height: 1.3;
}

/* App Header */
.app-header {
    /*background-image: linear-gradient(to left, #5d598f, #55568b, #4e5486, #465182, #3f4e7d);*/
    background-color: #4e619b;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(10px);
}

.app-header vaadin-drawer-toggle {
    color: var(--button-color-hover);
    transition: color var(--transition-fast), transform var(--transition-fast);
    -webkit-tap-highlight-color: transparent !important;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0) !important;
    tap-highlight-color: transparent !important;
}

.app-header vaadin-drawer-toggle:hover {
    color: var(--button-color-hover);
    transform: translateY(-1px);
}

.app-header vaadin-drawer-toggle:active {
    color: var(--button-color-active);
    transform: translateY(0);
}

/* Extremely aggressive focus outline removal for Chrome Android */
.app-header vaadin-drawer-toggle:focus,
.app-header vaadin-drawer-toggle:active,
.app-header vaadin-drawer-toggle:focus-within,
.app-header vaadin-drawer-toggle[focus-ring],
.app-header vaadin-drawer-toggle[focused] {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
    -webkit-tap-highlight-color: transparent !important;
}

/* Force override on shadow DOM button part */
.app-header vaadin-drawer-toggle::part(button) {
    outline: none !important;
    box-shadow: none !important;
}

/* Chrome Android specific - touch devices only */
@media (hover: none) and (pointer: coarse) {
    .app-header vaadin-drawer-toggle:focus,
    .app-header vaadin-drawer-toggle[focus-ring],
    .app-header vaadin-drawer-toggle[focused] {
        outline: none !important;
        box-shadow: none !important;
        -webkit-tap-highlight-color: transparent !important;
    }

    /* Disable focus-visible on touch devices */
    .app-header vaadin-drawer-toggle:focus-visible {
        outline: none !important;
    }
}

/* Only show focus for keyboard navigation on desktop */
@media (hover: hover) and (pointer: fine) {
    .app-header vaadin-drawer-toggle:focus-visible {
        outline: 2px solid rgba(78, 97, 155, 0.5);
        outline-offset: 2px;
    }
}

.app-title {
    font-size: clamp(1rem, 5vw, 1.5rem);
    font-weight: 600;
    color: var(--lumo-header-text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.app-header-center {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    gap: 0.6rem !important;
    flex-wrap: nowrap !important;
    justify-content: flex-start !important;
    justify-self: start !important;
    width: 100% !important;
}

.app-header-center img,
.app-header-center .fddb-app-header-icon {
    flex: 0 0 auto !important;
    display: inline-block !important;
    vertical-align: middle !important;
    width: 32px !important;
    height: 32px !important;
    margin-right: 0.6rem !important;
    object-fit: contain !important;
}

.app-header-center .app-title {
    flex: 1 1 auto !important;
    min-width: 0 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    text-align: left !important;
}

.fddb-drawer-icon {
    display: inline-block;
}

@media (min-width: 769px) {
    .fddb-drawer-icon {
        display: none !important;
    }

    .drawer-header {
        display: none !important;
        visibility: hidden !important;
        height: 0 !important;
        padding: 0 !important;
        margin: 0 !important;
    }
}

/* Drawer */
vaadin-app-layout::part(drawer) {
    background-image: linear-gradient(to right bottom, #3f4e7d, #414c73, #424a69, #43485f, #434655);
    border-right: 1px solid rgba(255, 255, 255, 0.08);
}

.drawer-header {
    padding: 0.75rem 1rem !important;
    margin-bottom: 0.5rem !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08) !important;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.drawer-header img {
    width: 32px;
    height: 32px;
    object-fit: contain;
    margin-right: 0.5rem;
}

.drawer-header h3 {
    margin: 0;
    line-height: 1;
}

/* Side Navigation */
vaadin-side-nav-item {
    --_lumo-item-selected-background: rgba(78, 97, 155, 0.15);
    border-radius: var(--lumo-border-radius-m);
    margin: 2px 0;
    transition: background-color var(--transition-fast);
}

vaadin-side-nav-item::part(link) {
    border-radius: var(--lumo-border-radius-m);
    padding: 8px 12px;
}

vaadin-side-nav-item:hover {
    background-color: rgba(174, 147, 87, 0.4);
}

vaadin-side-nav-item::part(link):active:focus {
    background-color: rgba(174, 147, 87, 0.4);
}

vaadin-side-nav-item[selected] {
    background: var(--_lumo-item-selected-background);
    border-left: 4px solid var(--accent);
    padding-left: 8px;
}

vaadin-side-nav-item[selected]::part(link) {
    color: var(--accent-contrast);
    font-weight: 500;
}

/* Cards Grid */
.cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 16px;
    width: 100%;
}

/* Card Component */
.card {
    background: var(--card-surface);
    border: 1px solid var(--card-border);
    border-radius: var(--lumo-border-radius-l);
    padding: 16px;
    box-shadow: var(--lumo-box-shadow-xs);
    box-sizing: border-box;
}

.card--highlight {
    cursor: pointer;
    transition: transform var(--transition-normal), box-shadow var(--transition-normal), background-color var(--transition-fast);
}

.card--highlight:hover {
    transform: translateY(-6px);
    box-shadow: 0 6px 16px rgba(78, 97, 155, 0.3), 0 2px 8px rgba(0, 0, 0, 0.4);
}

.card--highlight .card__value {
    color: var(--accent-hover);
}

/* Buttons */
vaadin-button[theme~="primary"] {
    background: var(--button-color);
    color: var(--button-color-contrast);
    border-radius: var(--lumo-border-radius-m);
    font-weight: 500;
    transition: background-color var(--transition-fast), transform var(--transition-fast);
    box-shadow: var(--lumo-box-shadow-xs);
}

vaadin-button[theme~="primary"]:hover {
    background: var(--button-color-hover);
    transform: translateY(-1px);
    box-shadow: var(--lumo-box-shadow-s);
}

vaadin-button[theme~="primary"]:active {
    background: var(--button-color-active);
    transform: translateY(0);
    box-shadow: none;
}

vaadin-button {
    border-radius: var(--lumo-border-radius-m);
    transition: all var(--transition-fast);
}

/* Date Badges */
.date-badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 12px;
    background: rgba(78, 97, 155, 0.12);
    color: var(--lumo-body-text-color);
    font-size: 0.75rem;
    font-weight: 500;
    letter-spacing: 0.3px;
}

.label-small {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 600;
    color: var(--lumo-secondary-text-color);
}

/* Form Elements */
vaadin-text-field::part(input-field),
vaadin-text-area::part(input-field),
vaadin-date-picker::part(input-field),
vaadin-integer-field::part(input-field) {
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--lumo-border-radius-m);
    transition: border-color var(--transition-fast), background-color var(--transition-fast);
}

vaadin-text-field:hover::part(input-field),
vaadin-text-area:hover::part(input-field),
vaadin-date-picker:hover::part(input-field),
vaadin-integer-field:hover::part(input-field) {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.15);
}

/* Use highlight color for focused/selected input fields */
vaadin-text-field[focused]::part(input-field),
vaadin-text-area[focused]::part(input-field),
vaadin-date-picker[focused]::part(input-field),
vaadin-integer-field[focused]::part(input-field) {
    border-color: var(--highlight);
    background: rgba(255, 255, 255, 0.08);
    box-shadow: 0 0 0 3px rgba(var(--highlight-rgb), 0.12);
}

/* Extended form control styling to match app look & feel */

/* Labels & values */
vaadin-text-field::part(label),
vaadin-text-area::part(label),
vaadin-date-picker::part(label),
vaadin-integer-field::part(label) {
    color: var(--lumo-secondary-text-color);
    font-weight: 500;
}

vaadin-text-field::part(value),
vaadin-text-area::part(value),
vaadin-date-picker::part(value) {
    color: var(--lumo-body-text-color);
}

/* Clear and toggle icons */
vaadin-text-field::part(clear-button),
vaadin-date-picker::part(clear-button),
vaadin-text-field::part(suffix),
vaadin-date-picker::part(suffix) {
    color: var(--lumo-secondary-text-color);
}

/* Invalid and disabled states */
vaadin-text-field[invalid]::part(input-field),
vaadin-text-area[invalid]::part(input-field),
vaadin-date-picker[invalid]::part(input-field) {
    border-color: var(--lumo-error-text-color);
    box-shadow: 0 0 0 3px rgba(154, 75, 85, 0.12);
}

vaadin-text-field[disabled]::part(input-field),
vaadin-text-area[disabled]::part(input-field),
vaadin-date-picker[disabled]::part(input-field),
vaadin-integer-field[disabled]::part(input-field) {
    background: rgba(255, 255, 255, 0.02);
    border-color: rgba(255, 255, 255, 0.04);
    color: var(--lumo-disabled-text-color);
}

/* Vaadin checkbox */
vaadin-checkbox::part(checkbox) {
    width: 18px;
    height: 18px;
    min-width: 18px;
    min-height: 18px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.12);
    background: transparent;
    transition: background var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast);
}

vaadin-checkbox[checked]::part(checkbox) {
    background: var(--highlight);
    border-color: var(--highlight);
    box-shadow: 0 0 0 3px rgba(var(--highlight-rgb), 0.12);
}

vaadin-checkbox::part(checkmark) {
    color: var(--accent-contrast);
}

vaadin-checkbox::part(label) {
    color: var(--lumo-body-text-color);
    margin-left: 0.5rem;
}

vaadin-checkbox[disabled]::part(checkbox) {
    background: rgba(255, 255, 255, 0.02);
    border-color: rgba(255, 255, 255, 0.04);
}

/* Native checkbox fallback */
input[type="checkbox"] {
    accent-color: var(--highlight);
    width: 18px;
    height: 18px;
}

/* Date picker overlay (portal) - make background use app accent and style buttons/cells */
vaadin-date-picker-overlay::part(content),
vaadin-date-picker-overlay::part(overlay),
vaadin-overlay[theme~="date-picker-overlay"]::part(content) {
    background: var(--accent-active);
    color: var(--accent-contrast);
    border-radius: var(--lumo-border-radius-m);
    box-shadow: var(--lumo-box-shadow-l);
}

/* Make sure overlay content (labels, month name) is readable on accent background */
vaadin-date-picker-overlay,
vaadin-overlay[theme~="date-picker-overlay"] {
    color: var(--accent-contrast);
}

vaadin-date-picker-overlay vaadin-button,
vaadin-overlay[theme~="date-picker-overlay"] vaadin-button,
vaadin-date-picker-overlay ::slotted(vaadin-button) {
    color: var(--button-color-hover);
    font-weight: 600;
    border-radius: var(--lumo-border-radius-m);
    border: none;
    padding: 6px 10px;
    transition: background-color var(--transition-fast), transform var(--transition-fast);
}

/* Make inputs visually consistent on small screens */
@media (max-width: 576px) {
    vaadin-text-field::part(input-field),
    vaadin-date-picker::part(input-field),
    vaadin-text-area::part(input-field) {
        min-height: 44px;
        padding: 8px 10px;
    }

    vaadin-vertical-layout.data-query-tab-layout,
    .data-query-tab-layout {
        display: contents !important;
    }
}

/* Notifications */
vaadin-notification-card {
    display: inline-flex;
    align-items: center;
    width: auto !important;
    max-width: min(90vw, 640px);
    box-sizing: border-box;
    border-radius: var(--lumo-border-radius-l);
    box-shadow: none !important;
}

vaadin-notification-card[theme~="warning"] {
    background: rgba(255, 152, 0, 0.15);
}

/* Charts */
.chart-container {
    background: var(--card-surface);
    border: 1px solid var(--card-border);
    border-radius: var(--lumo-border-radius-l);
    padding: 20px;
    box-shadow: var(--lumo-box-shadow-xs);
}

/* Highcharts - ensure text shown on bar charts (data labels and inside SVG text) uses the accent-active color */
.highcharts-data-label, /* container */
.highcharts-data-label text, /* svg text element */
.highcharts-data-label tspan, /* svg tspan inside text */
.highcharts-point-label, /* legacy point label class */
.highcharts-data-labels .highcharts-data-label-box + text,
.highcharts-data-labels .highcharts-data-label-box + tspan {
    fill: var(--accent-active) !important; /* SVG text color */
    color: var(--accent-active) !important; /* fallback for non-SVG text */
    stroke: none !important;
}

/* Also apply to stacked/column/bar data labels rendered with class names starting with highcharts- */
.highcharts-series .highcharts-data-label,
.highcharts-series .highcharts-data-label text {
    fill: var(--accent-active) !important;
    color: var(--accent-active) !important;
}

/* Axis labels, tick labels, legend and titles */
.highcharts-axis-labels text,
.highcharts-axis-title text,
.highcharts-xaxis-labels text,
.highcharts-yaxis-labels text,
.highcharts-legend text,
.highcharts-title text,
.highcharts-subtitle text,
.highcharts-tooltip text,
.highcharts-label text {
    fill: var(--accent-active) !important;
    color: var(--accent-active) !important;
}

/* Also ensure exported SVGs include the color */
svg .highcharts-label, svg .highcharts-data-label, svg .highcharts-legend {
    color: var(--accent-active) !important;
    fill: var(--accent-active) !important;
}

/* Grid */
vaadin-grid {
    border-radius: var(--lumo-border-radius-l);
    overflow: hidden;
    box-shadow: var(--lumo-box-shadow-s);
    border: 1px solid var(--card-border);
    background: var(--card-surface);
}

vaadin-grid::part(header-cell) {
    background-color: var(--table-header) !important;
    color: var(--lumo-header-text-color);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 0.875rem;
    border-bottom: 1px solid var(--card-border);
}

vaadin-grid::part(cell) {
    background: transparent;
    color: var(--lumo-body-text-color);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

vaadin-grid::part(row) {
    transition: background var(--transition-fast);
    background: transparent;
}

vaadin-grid::part(row):hover {
    background: rgba(174, 147, 87, 0.1);
}

vaadin-grid::part(row):hover::part(cell) {
    background: transparent;
}

/* Striped rows variant */
vaadin-grid[theme~="row-stripes"]::part(even-row) {
    background: rgba(255, 255, 255, 0.02);
}

vaadin-grid[theme~="row-stripes"]::part(even-row):hover {
    background: rgba(174, 147, 87, 0.1);
}

/* Tabs */
vaadin-tab {
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all var(--transition-fast);
    color: var(--lumo-secondary-text-color);
    background-color: transparent !important;
}

vaadin-tab::before,
vaadin-tab::after {
    display: none !important;
}

vaadin-tab:hover {
    color: var(--button-color-hover);
}

vaadin-tab[selected] {
    color: var(--highlight);
    background-color: transparent !important;
    border-bottom: 2px solid var(--highlight);
}

vaadin-tab[selected]::before,
vaadin-tab[selected]::after {
    display: none !important;
}

vaadin-tab-sheet::part(tabs) {
    background-color: transparent;
}

/* Nutrient-specific colors */
.nutrient-calories {
    color: var(--nutrient-calories);
}

.nutrient-fat {
    color: var(--nutrient-fat);
}

.nutrient-carbs {
    color: var(--nutrient-carbs);
}

.nutrient-sugar {
    color: var(--nutrient-sugar);
}

.nutrient-protein {
    color: var(--nutrient-protein);
}

.nutrient-fibre {
    color: var(--nutrient-fibre);
}

/* Utility Classes */
.text-accent {
    color: var(--accent) !important;
}

.bg-accent {
    background-color: var(--accent) !important;
}

.text-highlight {
    color: var(--highlight) !important;
}

/* Override Lumo text color utilities */
.text-success {
    color: #3f908c !important;
}

.text-error {
    color: #9a4b55 !important;
}

/* For Layout Padding */
.surface-elevated {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.12);
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.03);
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.25);
}

/* Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in-up {
    animation: fadeInUp var(--transition-slow);
}

/* Responsive breakpoints */
@media (max-width: 600px) {
    .cards-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 12px;
    }
}

@media (max-width: 768px) {
    :root {
        --mobile-horizontal-padding: 0.5rem;
    }

    .card, .cards-grid, .cards-container {
        padding-left: var(--mobile-horizontal-padding);
        padding-right: var(--mobile-horizontal-padding);
        box-sizing: border-box;
        max-width: 100vw;
        max-height: none !important;
        min-height: 120px;
    }

    vaadin-vertical-layout:not([theme~="padding-false"]) {
        padding-left: max(var(--mobile-horizontal-padding), env(safe-area-inset-left, 0)) !important;
        padding-right: max(var(--mobile-horizontal-padding), env(safe-area-inset-right, 0)) !important;
        padding-top: max(0.5rem, env(safe-area-inset-top, 0.5rem)) !important;
        padding-bottom: max(0.5rem, env(safe-area-inset-bottom, 0.5rem)) !important;
    }

    h2, h3 {
        padding-left: 0.25rem;
        padding-right: 0.25rem;
    }
}

/* Settings View Specific Styles */
.settings-view {
    max-width: 100%;
    overflow-x: hidden;
}

.settings-view > vaadin-vertical-layout {
    width: 100%;
    box-sizing: border-box;
}

.settings-card {
    overflow: hidden;
    box-sizing: border-box;
    width: 100%;
    max-width: 100%;
}

.settings-card > * {
    width: 100%;
    box-sizing: border-box;
}

.settings-action-button {
    width: auto;
    max-width: 200px;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

@media (max-width: 576px) {
    :root {
        --mobile-horizontal-padding: 0.25rem;
    }

    .dashboard-view,
    .data-query-view,
    .rolling-averages-view,
    .data-export-view,
    .correlation-view,
    .migration-view,
    .settings-view {
        padding: var(--mobile-horizontal-padding) !important;
    }

    .settings-card {
        max-width: calc(100vw - 0.5rem);
        overflow-x: hidden;
    }

    vaadin-horizontal-layout {
        flex-direction: column !important;
    }

    /* Keep preset buttons in 2-column layout even on mobile */
    vaadin-horizontal-layout.preset-buttons-container {
        flex-direction: row !important;
        flex-wrap: wrap !important;
        justify-content: flex-start !important;
        align-items: stretch !important;
    }

    vaadin-horizontal-layout.amount-date-row {
        flex-direction: row !important;
        flex-wrap: nowrap !important;
        justify-content: flex-start !important;
        align-items: center !important;
        white-space: nowrap !important;
    }

    vaadin-button {
        width: 100%;
        margin: 0.25rem 0;
    }

    /* Preset buttons maintain their flex sizing on mobile */
    vaadin-button.preset-btn {
        width: auto !important;
        margin: 0 !important;
    }

    [class*="card"] {
        min-width: 100px !important;
        font-size: 0.875rem;
    }

    vaadin-grid::part(cell) {
        font-size: 0.75rem;
        padding: 0.25rem;
    }

    vaadin-button,
    vaadin-tab,
    a {
        min-height: 44px;
        min-width: 44px;
    }
}

@media (min-width: 1200px) {
    .cards-grid {
        gap: 20px;
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .card:hover,
    .card--highlight:hover,
    vaadin-button:hover {
        transform: none !important;
    }
}

@media (max-width: 768px) {
    .date-products-grid {
        margin-top: 1rem;
    }
}

/* Override Vaadin top loading indicator color */
.v-loading-indicator,
.v-loading-indicator .v-loading-indicator-bar,
v-loading-indicator,
vaadin-progress-bar::part(value),
vaadin-progress-bar::part(indeterminate) {
    background-color: var(--highlight) !important;
    z-index: 99999 !important;
}
